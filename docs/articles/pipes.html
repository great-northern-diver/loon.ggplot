<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Wayne Oldford and Zehao Xu" />

<meta name="date" content="2021-03-19" />

<title>Pipes</title>

<script>// Hide empty <a> tag within highlighted CodeBlock for screen reader accessibility (see https://github.com/jgm/pandoc/issues/6352#issuecomment-626106786) -->
// v0.0.1
// Written by JooYoung Seo (jooyoung@psu.edu) and Atsushi Yasumoto on June 1st, 2020.

document.addEventListener('DOMContentLoaded', function() {
  const codeList = document.getElementsByClassName("sourceCode");
  for (var i = 0; i < codeList.length; i++) {
    var linkList = codeList[i].getElementsByTagName('a');
    for (var j = 0; j < linkList.length; j++) {
      if (linkList[j].innerHTML === "") {
        linkList[j].setAttribute('aria-hidden', 'true');
      }
    }
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Pipes</h1>
<h4 class="author">Wayne Oldford and Zehao Xu</h4>
<h4 class="date">2021-03-19</h4>


<div id="TOC">
<ul>
<li><a href="#using-gg_pipedata-ggplotobj">Using <code>gg_pipe(data, ggplotObj)</code></a></li>
<li><a href="#using-l_ggplot">Using <code>l_ggplot()</code></a></li>
<li><a href="#just-use-loon-for-built-in-interactive-plots">Just use loon for built-in interactive plots</a></li>
</ul>
</div>

<p>The <code>magrittr</code> package provides several different types of pipes which can be a handy way to organize computation, especially when the computation involves processing data for input to another procedure, in this case <code>ggplot()</code>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">library</span>(dplyr)  <span class="co"># load this to also have dplyr functionality</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">library</span>(magrittr)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb1-4"><a href="#cb1-4"></a>p1_piped &lt;-<span class="st"> </span>mtcars <span class="op">%&gt;%</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">transmission =</span> am, <span class="dt">weight =</span> wt) <span class="op">%&gt;%</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">lp100km =</span> (<span class="dv">100</span> <span class="op">*</span><span class="st"> </span><span class="fl">3.785411784</span>) <span class="op">/</span><span class="st"> </span>(<span class="fl">1.609344</span> <span class="op">*</span><span class="st"> </span>mpg)) <span class="op">%&gt;%</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="st">  </span><span class="kw">select</span>(weight, lp100km) <span class="op">%&gt;%</span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> weight, <span class="dt">y =</span> lp100km)) <span class="op">+</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Litres per 100 kilometres&quot;</span>) <span class="op">+</span></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Gas usage&quot;</span>)</span></code></pre></div>
<p>Here the “pipe” <code>%&gt;%</code> takes the output of its left hand side and pushes it into the first argument of its right hand side. Arbitrary many pipes may be gathered together.<br />
This connects nicely with <code>ggplot2</code>’s addition <code>+</code> operator (<code>+</code> itself is sometimes a pipe, sometimes a layer in <code>ggplot</code> construction) to create the <code>ggplot</code> from the data and assign it to <code>p1_piped</code>.</p>
<p>Two things to note here are. First, the result of the data manipulation is assigned at the beginning using the <code>&lt;-</code> assignment function which seems to run counter to the data flow indicated by the pipes. A more consistent flow would be to have instead written</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>mtcars <span class="op">%&gt;%</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">transmission =</span> am, <span class="dt">weight =</span> wt) <span class="op">%&gt;%</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">lp100km =</span> (<span class="dv">100</span> <span class="op">*</span><span class="st"> </span><span class="fl">3.785411784</span>) <span class="op">/</span><span class="st"> </span>(<span class="fl">1.609344</span> <span class="op">*</span><span class="st"> </span>mpg)) <span class="op">%&gt;%</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="st">  </span><span class="kw">select</span>(weight, lp100km) <span class="op">%&gt;%</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> weight, <span class="dt">y =</span> lp100km)) <span class="op">+</span></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Litres per 100 kilometres&quot;</span>) <span class="op">+</span></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Gas usage&quot;</span>)  -&gt;<span class="st">   </span><span class="co"># Note assignment occurs here</span></span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="st">  </span>p1_piped</span></code></pre></div>
<p>Now the assignment operator <code>-&gt;</code> is used at the end, matching the data flow of the pipes.</p>
<p>Second, in either case the <code>ggplot</code> is <strong>not</strong> itself displayed (or rendered) until it is printed.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>p1_piped</span></code></pre></div>
<p><img src="data:image/png;base64,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" width="50%" style="display: block; margin: auto;" /></p>
<p>Once built, as happens when the plot has been displayed as above, an interactive loon plot can be had as always, simply by calling <code>ggplot2loon()</code> on the built <code>ggplot</code>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="kw">library</span>(loon.ggplot)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="kw">ggplot2loon</span>(p1_piped, <span class="dt">linkingGroup =</span> <span class="st">&quot;Motor Trend 1974&quot;</span>)</span></code></pre></div>
<p>Again, the additional specification here of the <code>linkingGroup</code> will cause display attributes to be pulled from the plots in that linking group.</p>
<div id="using-gg_pipedata-ggplotobj" class="section level3">
<h3>Using <code>gg_pipe(data, ggplotObj)</code></h3>
<p>Note that before a <code>ggplot</code> can be displayed, a number of steps are performed so as to prepare the plot object for rendering (e.g. see <code>ggplot2::ggplot_build</code>). Unfortunately, this delay in completing the preparation of the <code>ggplot</code> can make it difficult to attach further operations in the <code>%&gt;%</code> pipeline after the <code>ggplot</code> itself – apart of course from further <code>ggplot2</code> additions via the <code>+</code> operator. For example, one cannot simply add <code>%&gt;% ggplot2loon()</code> at the end of the pipeline used to construct the <code>ggplot</code>. That is,</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>mtcars <span class="op">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">transmission =</span> am, <span class="dt">weight =</span> wt) <span class="op">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">lp100km =</span> (<span class="dv">100</span> <span class="op">*</span><span class="st"> </span><span class="fl">3.785411784</span>) <span class="op">/</span><span class="st"> </span>(<span class="fl">1.609344</span> <span class="op">*</span><span class="st"> </span>mpg)) <span class="op">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="st">  </span><span class="kw">select</span>(weight, lp100km) <span class="op">%&gt;%</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> weight, <span class="dt">y =</span> lp100km)) <span class="op">+</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Litres per 100 kilometres&quot;</span>) <span class="op">+</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Gas usage&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="st">  </span><span class="kw">ggplot2loon</span>()</span></code></pre></div>
<p>would produce neither a <code>ggplot</code> or an interactive <code>loon</code> plot.</p>
<p>To get around this problem, in <code>loon.ggplot</code> the function <code>gg_pipe()</code> is provided to encapsulate the <code>ggplot</code> construction in any pipeline and force the <code>ggplot</code> to be built (though not rendered in a display). The output of this function can then be passed on to <code>ggplot2loon()</code>.</p>
<p>For example,</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>mtcars <span class="op">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">transmission =</span> am, <span class="dt">weight =</span> wt) <span class="op">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">lp100km =</span> (<span class="dv">100</span> <span class="op">*</span><span class="st"> </span><span class="fl">3.785411784</span>) <span class="op">/</span><span class="st"> </span>(<span class="fl">1.609344</span> <span class="op">*</span><span class="st"> </span>mpg)) <span class="op">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="st">  </span><span class="kw">select</span>(weight, lp100km) <span class="op">%&gt;%</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="st">  </span><span class="co"># encapsulate the ggplot construction with gg_pipe()</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="st">  </span><span class="kw">gg_pipe</span>(<span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> weight, <span class="dt">y =</span> lp100km)) <span class="op">+</span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="st">            </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="st">            </span><span class="kw">ylab</span>(<span class="st">&quot;Litres per 100 kilometres&quot;</span>) <span class="op">+</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="st">            </span><span class="kw">ggtitle</span>(<span class="st">&quot;Gas usage&quot;</span>)</span>
<span id="cb6-10"><a href="#cb6-10"></a>          )  <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="st">  </span><span class="co"># and pass the built plot on</span></span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="st">  </span><span class="kw">ggplot2loon</span>(<span class="dt">linkingGroup =</span> <span class="st">&quot;Motor Trend 1974&quot;</span>)</span></code></pre></div>
<p>constructs the interactive plot which could have been assigned to a variable as was done with the original <code>ggplot</code> construction.</p>
<p>From here, the pipeline can be grown as before, recognizing of course that the output of <code>ggplot2loon()</code> is a <code>loon</code> plot of some sort. This means that functions that operate on <code>loon</code> plots (as their first argument can be used. As with any piping operation, attention must be given to the first argument of the functions in the pipeline as well as to what the input and outputs are of any function.</p>
<p>For example,</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>mtcars <span class="op">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">transmission =</span> am, <span class="dt">weight =</span> wt) <span class="op">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">lp100km =</span> (<span class="dv">100</span> <span class="op">*</span><span class="st"> </span><span class="fl">3.785411784</span>) <span class="op">/</span><span class="st"> </span>(<span class="fl">1.609344</span> <span class="op">*</span><span class="st"> </span>mpg)) <span class="op">%&gt;%</span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="st">  </span><span class="kw">select</span>(weight, lp100km) <span class="op">%&gt;%</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="st">  </span><span class="co"># encapsulate the ggplot construction with gg_pipe()</span></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="st">  </span><span class="kw">gg_pipe</span>(<span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> weight, <span class="dt">y =</span> lp100km)) <span class="op">+</span></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="st">            </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="st">            </span><span class="kw">ylab</span>(<span class="st">&quot;Litres per 100 kilometres&quot;</span>) <span class="op">+</span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="st">            </span><span class="kw">ggtitle</span>(<span class="st">&quot;Gas usage&quot;</span>) )  <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-10"><a href="#cb7-10"></a><span class="st">  </span><span class="co"># and pass the built plot on</span></span>
<span id="cb7-11"><a href="#cb7-11"></a><span class="st">  </span><span class="kw">ggplot2loon</span>(<span class="dt">linkingGroup =</span> <span class="st">&quot;Motor Trend 1974&quot;</span>) <span class="op">%&gt;%</span><span class="st">  </span><span class="co"># pipe the loon plot on</span></span>
<span id="cb7-12"><a href="#cb7-12"></a><span class="st">  </span><span class="kw">l_cget</span>(<span class="st">&#39;color&#39;</span>)  <span class="co"># Gets and returns the vector of point colours</span></span></code></pre></div>
<p>In the <code>magrittr</code> package (the source of the pipeline operation) there are a variety of pipeline operators which might also be useful – not just <code>%&gt;%</code>.</p>
</div>
<div id="using-l_ggplot" class="section level3">
<h3>Using <code>l_ggplot()</code></h3>
<p>Additionally, using function <code>l_ggplot</code>, can also create a <code>loon</code> plot with <code>ggplot</code> pipe model.</p>
<p>The display of <code>ggplot</code> object relies on the default <code>print()</code> function in <code>R</code>. Function <code>l_ggplot</code>, inserts a new class <code>lggplot</code> into the original <code>ggplot</code> object. At the printing time, <a href="http://adv-r.had.co.nz/S3.html">S3 method</a> <code>print.lggplot()</code> will be executed to transform a <code>ggplot</code> plot to a <code>loon</code> plot.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>obj &lt;-<span class="st"> </span>mtcars <span class="op">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">transmission =</span> am, <span class="dt">weight =</span> wt) <span class="op">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">lp100km =</span> (<span class="dv">100</span> <span class="op">*</span><span class="st"> </span><span class="fl">3.785411784</span>) <span class="op">/</span><span class="st"> </span>(<span class="fl">1.609344</span> <span class="op">*</span><span class="st"> </span>mpg)) <span class="op">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="st">  </span><span class="kw">select</span>(weight, lp100km) <span class="op">%&gt;%</span></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="st">  </span><span class="co"># replace `ggplot` to `lggplot`</span></span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="st">  </span><span class="kw">l_ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> weight, <span class="dt">y =</span> lp100km)) <span class="op">+</span></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Litres per 100 kilometres&quot;</span>) <span class="op">+</span></span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Gas usage&quot;</span>)</span>
<span id="cb8-10"><a href="#cb8-10"></a>obj</span></code></pre></div>
<p>However, this design has an obvious drawback: confusion of the output data structure. Since the transformation is accomplished at the printing time, object <code>obj</code> is still a <code>ggplot</code> data structure. To create a <code>loon</code> “handle”, we have to use <code>l_getFromPath()</code></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="cf">if</span>(utils<span class="op">::</span><span class="kw">packageVersion</span>(<span class="st">&quot;loon&quot;</span>) <span class="op">&gt;=</span><span class="st"> &quot;1.2.4&quot;</span>) {</span>
<span id="cb9-2"><a href="#cb9-2"></a>  <span class="co"># **THIS IS IMPORTANT**</span></span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="co"># The path name can be obtained at the top left tk window</span></span>
<span id="cb9-4"><a href="#cb9-4"></a>  <span class="co"># Suppose the label is &quot;loon.ggplot --path: .l13.ggplot&quot;</span></span>
<span id="cb9-5"><a href="#cb9-5"></a>  <span class="co"># The path would be the char right after &quot;path: &quot; which is &quot;.l13.ggplot&quot;</span></span>
<span id="cb9-6"><a href="#cb9-6"></a>  loonWidget &lt;-<span class="st"> </span><span class="kw">l_getFromPath</span>(<span class="st">&quot;.l13.ggplot&quot;</span>)</span>
<span id="cb9-7"><a href="#cb9-7"></a>  <span class="kw">class</span>(loonWidget)</span>
<span id="cb9-8"><a href="#cb9-8"></a>  <span class="co"># [1] &quot;l_plot&quot; &quot;loon&quot;</span></span>
<span id="cb9-9"><a href="#cb9-9"></a>}</span></code></pre></div>
</div>
<div id="just-use-loon-for-built-in-interactive-plots" class="section level3">
<h3>Just use loon for built-in interactive plots</h3>
<p>Of course, for plots already existing in <code>loon</code>, <code>ggplot()</code> and hence <code>gg_pipe()</code> could be avoided entirely:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>mtcars <span class="op">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">transmission =</span> am, <span class="dt">weight =</span> wt) <span class="op">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">lp100km =</span> (<span class="dv">100</span> <span class="op">*</span><span class="st"> </span><span class="fl">3.785411784</span>) <span class="op">/</span><span class="st"> </span>(<span class="fl">1.609344</span> <span class="op">*</span><span class="st"> </span>mpg)) <span class="op">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="st">  </span><span class="kw">select</span>(weight, lp100km) <span class="op">%&gt;%</span></span>
<span id="cb10-5"><a href="#cb10-5"></a><span class="st">  </span><span class="co"># and pass the built plot on</span></span>
<span id="cb10-6"><a href="#cb10-6"></a><span class="st">  </span><span class="kw">l_plot</span>(<span class="dt">title =</span> <span class="st">&quot;Gas Usage&quot;</span>, </span>
<span id="cb10-7"><a href="#cb10-7"></a>         <span class="dt">showGuides =</span> <span class="ot">TRUE</span>, <span class="dt">showScales =</span> <span class="ot">TRUE</span>,</span>
<span id="cb10-8"><a href="#cb10-8"></a>         <span class="dt">ylabel =</span> <span class="st">&quot;Litres per 100 kilometres&quot;</span>, </span>
<span id="cb10-9"><a href="#cb10-9"></a>         <span class="dt">linkingGroup =</span> <span class="st">&quot;Motor Trend 1974&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb10-10"><a href="#cb10-10"></a><span class="st">  </span><span class="kw">plot</span>()   <span class="co"># get a static version via grid</span></span></code></pre></div>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAloAAAGZCAMAAABmEW9fAAAAyVBMVEUAAAAAADoAAGYAOjoAOmYAOpAAZpAAZrY6AAA6ADo6AGY6OgA6Ojo6OmY6OpA6ZmY6ZpA6ZrY6kLY6kNtmAABmADpmAGZmOgBmOjpmZgBmZjpmkJBmkLZmtttmtv+QOgCQOjqQOmaQZjqQkGaQkNuQtpCQttuQ29uQ2/+ZmZm2ZgC2Zjq2kGa2tpC2ttu225C229u22/+2/7a2///bkDrbkGbbtmbbtpDb/7bb/9vb///r6+v/tmb/25D/27b/29v//7b//9v///+OgcDAAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAQJklEQVR4nO2dD3/jxBGG5ePSmAOu0OQCpVxyHIX6fND2iAs0tcHW9/9Q1cqS/8mWxrJmtTt63t+ROJE3L+N5vDu7lrRJipCKkr7/B5BVgRZSEmghJYEWUhJoISWBFlISaCElgRZSEmghJYEWUhJoISWBFlISaCElgRZSEmghJYEWUhJoISWBFlISaCElgRZSEmghJYEWUhJoISWBFlISaCElgRZSEmghJYEWUhJoISWBFlISaEn0+9tPkiT59Jun5qdOk9HEfZ8nyY32/1bYAi2BZkmhNTW1Aq1SoNWsDVlJ8uyx6cmgVQq0GrUYJ8nnH9J09T5j677p2aBVCrQaNU2S6/Wj95/94L79/jaDbfTZB/f4168y3j7aKcIO0No9vttu9eM4Gb0unuR+SD567TEmHwKtJq0eDkos14uVhVc5Vl5t2NpHa/f4brvsjzp9mj+p+CH5wndougKtJi1vd8BxWsPz3lGRHXv2IV1NdwbKPbT2ju+0c0eff0h/SUr+Xu//ERMCrSZlnU2O1jTvWdZD4x8/vU0KdEav91ckDtHaO162SwuOpsWTnEH27dpXTF4EWk0qe60NWnlllOSIrIeydQVWaA+tveP77fK5Zv6kcqBMDnrH2AVaTSprrQ1a2YPR5/+crcukt+vy6ZsTtdbu8Z12bqA8glbz0kZMAq1GuRnimpy5Q6sYIGfF4sLqp6/Hm4EyLca49Mjx3XaHaNkaCQuBVqNcr/L83xkkv35ZIOJImO6sWy1utx1Ohs4oGwB/He9U5fnxvXYHtZZrPU+MEQZazdpZjV93MtmQt57cZThcfUjTX8bbMmlveNs9vtvOHXi2mSHm3WJljSN6gZZA/ylxee4K8mnJzvWWutF23WAD4n26f3y3XbGU9XWO1vLLEltTAi2J/vjxk52Z3vus//niv+tJXr7aPvr8w86Tf/9qu+i+e3yvnfvh+Q+b1fhPCmwtCbT6lOkPGkGrF2UD5fPH6mdIpgRavWhT7NuaFO4JtPpRfhZE8tFrU+vv+wItpCTQQkoCLaQk0EJKAi2kJNBCSgItpCR/aCXIsPpF638ipbKn7TQ4u0ULE0suGiag1drEkotBtLw5Ie+i12ptYsnFYK/VTRDVBnaSDlqgFbULaImjtpN00AKtqF1ASxy1naSDFmhF7QJa4qjtJB20QCtqF9ASR20n6aAFWlG7gJY4ajtJBy3QitoFtMRR20k6aIFW1C6gJY7aTtJBC7SidgEtcdR2kg5aoBW1y2mTJDlMUvkb0BK3Ob+FHZeTJsm7d++S478BLXGb81vYcTll4jjaZ2v7G9AStzm/hR0X0JLKUNJBC7SidqHWkspQ0pkhglbULqxriaO2k3TQAq2oXUBLHLWdpIMWaEXtAlriqO0kHbRAK2oX0BJHbSfpoAVaUbuAljhqO0kHLdCK2gW0xFHbSTpogVbULqAljtpO0kELtKJ2AS1x1HaSDlqgFbULaImjtpN00KrRYpwk9/mDF4+gFaZLnGgtX03SxceTNJ0nz0ArUJc40ZpfZ1+m9+l09H211+rUCQUlP7WW67n2BsSajT6REXlBa/Vw475RawXrEueAmPVZtzlZoBWuS6RoLcb3KWiF7RInWhuyQCtclzjRmuX1+j1ohewSJ1p1Aq1AXEBLHLWdpIMWaEXtAlriqO0kHbRAK2oX0BJHbSfpoAVaUbuAljhqO0kHLdCK2gW0xFHbSTpogVbULqAljtpO0kELtKJ2AS1x1HaSDlqgFbULaImjtpN00AKtqF1ASxy1naSDFmhF7QJa4qjtJB20QCtqF9ASR20n6aAFWlG7gJY4ajtJBy3QitqlD7RmV0+z4qZ+oGXXpQe0lq8m2b/qFfWgZculD7TuHrN+C7Ssu/QyICajyZwB0boLZbw4ajtJBy3QitqlD7RWD8nVb/lNbkHLsEsPaK0ebhYvn+ZXT6Bl2qWfGWKGVvYVtEy79NZrzei1jLv0VGsliRZZoBWKCzNEcdR2km4WLbUqC7SCcumj1nqjte4AWiG59NFr3eZ3fa/sNgdatlyotcRR20m6WbTWtZbeupbOn0UhqBatYjjUW32g1wrEhRmiOOp4k569kT24VBpQa0mjjhat5N27d/uvilm0OPPBq4sj64Atq2hx5oNflwGhxZkPfl0GhBZnPnh2GVatxZkPPl2YIYKWKZc+0JrzGeIQXPq5eloHKtAKyoXVeHHUdpJuFq10dgNaA3Dp58J8aq0BuFBriaO2k3S7aFFrDcKFWksctZ2km0WLc+OH4cJqvDhqO0kHLdCK2oWPp8VRB570ymfQKi7nNPCP1urBlfGcVNOtS/XMGQ2Xsxr0tfjAqYCduhw530/B5bwG9FrSqEHrzAbUWtKoQevMBswQpVEHjRa1FmipuTBD3FyYz2q8cReJyeH7gV5L3Ob8FnZcBCaVURy0xG3Ob2HHpdmkOve4bEC8+5mPpwfh4h0tdYFWIC49oLX8u/u6+pZeq1OXGGeIXdda+Wr8bMSdajp1iXNdq+sZ4urhz2O9E02HiRar8YWmiqcwDwet8i1fg9aJUdImWiyZduWyGQJPo3VqlLSJlrqGgtYWppO11slRErRAq0YHaB0b+0ALtNq4HKJV+5TWLjttzm4AWtKoA0Nrp9Y6uaRFrQVarVxKomqWtAY1Q0wXY9UJ4oDQKnTeklZblzBesFq0Vg/3+fdLb+69ePG4vufNIaOgpeISxgvWcObD4973lprnSE3vjzh1E0S1QT9oNX80CFqFuum1pqPvs17r6KadtnYWy+uoDp5jRPW1Vkd3E3EDYv6nNh1Xscpv6kUueqSmZ9kKukZeZogOrcXHk2rPZWpAFA120Z6vdb6JN7RyHdZboHW2i6xNCCZeFh+GgZboNCzQWqvLxQf3Nypnq9pCS3LyKGit1dHiw2Zdq3K2qjG04nWJttc6KdAKxMV/raV8K1PQkrucc6VGGC8YH0+3NvHqctaVGmG8YKDV2sSny5kfEAXxgoFWaxPQqhdotTYBrXpxRU9rE2qtetX3WutbmeoJtMQu5maI7Cw2DBdqLXHUdpIOWqAVtQtoiaO2k3TQAq1LXOpqdKtosYurD5falQWraB29WAK0unWpXw+1iha7uHpwGSZaygItJ9ACLS2XQdZabmexq9/UluQHhFYxCWSGuCXrZvHyiROYL3YpOybWtUot7x4ztNjF9VKXTTkFWqXWvRa7uF7qAloVtNjFtRsX0KqipavBoLWutTK2QAu0unbJOv/8Pja6LmWbEExEA+I1aF3sUt4iSdelbBOCiWT7p3SmxRZodexStgnBRHTmA4sPHbisV7ZAa6O8w6LXutwl/5ifGeL2ofLlYsNBi9X4Q7SUNRi0WNcCLSUX0AItJRfQAi0tl6KKF7hUtngGLdCqk7iMr25MbxWt2dXTbGcrAdBq5yIeEKsnM1tFa/lqkv3b3JwbtFq6gFYVrbvHrN8CrUtdQKuCVjpLRpP50AfEDjbBpNaqoKWrONDqZOve2ssujjyxnUvZ5uwG9tDy5nSBZDuGoUNxsVijSb972ZvttbhYDLTamnCxWLNJJ7VWo8vJFkbR4mIxpw5miAKXUy2MosXFYsNwMThD7CaIagM7STeLFncFHIZLH7UWdwUchEt/58ZzV0DjLtRa4qgve6VO3+5q7who1YrrEKsmp2/St38EtGol21lsUOtap28tenAEtGrFDLFicgStYhwUoVW/BRhoeVIoaDkcatAqx0EJWg0bF4LWWsu7nwcxQzy4PdEhHVuimmutpu1WQcuTwkCrgsPBmLZzvHGGCFobidAyPkNswuHUcdCqFWgJ9gw/UT9Ra9UKtP5XqbWOPOHorI8ZYq1AK38VkmBvqgZacaPVysSSS3+r8cYXH9qZWHJh8UEctZ2kg1ZkaB2ptS9Oen393pWLrE0IJsNE69gKwaVJb1h16MhF2CYEk0GidXQh68KkNy6OdeIibROCCWi1NgGteoFWaxPQqtcg0aLW8mEyTLSYIXowGShaXZhYcgEtcdR2kg5aoBW1C2iJo+4r6Y31FmiBViuX5lkiaIFWGxfB2hZogVYbF9DaFWi1NgGteoFWaxNqrXqBVmsTZoj1Aq3WJpZcQEsctZ2kg1bQaMX8wTFoNWsxrl4Y5AetqE93Aa1GLW/v08rWBl7QivskPdBq1OLlk9sT1oPTodgZrB/1hFZx6SxoGZbfAXF02Gt10/VWG1Br9W/itYz/y+EGB8wQA3GJG630yG1JukdrTZGhpINWM1ZZnTW7PnTqJoidcIp96e0kHbSaNT9y+/mu0SrXGQwlHbTaCbQCcQGtJoFWSxfQahS1VjsX0GoWM8RWLqAljtpO0kELtKJ2AS1x1HaSDlqgFbULaImjtpN00AKtqF1ASxy1naSDlipa25NiRKfHmEo6aGmitT2VT3ZSn6mkg5YiWvv784rYMpR00AKtqF1AC7SUXAaKFrWWvstQ0WKGqO4yWLS6eaUasAw06aAVPlpNg2mgSQet4NFqnAIEmnTQAi1hmzBdQEscNWj1b2IDrcMKnVorABMTaFWoYYYYgIkFtKpjnaGkgxZoRe0CWidiAK1LXUDrVBCiWutCkyMt7LiA1skoBDPEi02qLey4gJY4ajtJBy3QitoFtMRR20k6aIFW1C6gJY7aTtJBC7SidgEtcdR2kg5aoBW1C2iJo7aTdNACrahdQEsctZ2kg1ZLtLw5Ie+i12ptYsnFYK/VTRDVBnaSDlqgFbULaImjtpN00AKtqF1ASxy1naSDFmhF7QJa4qjtJB20QCtqF4NoIcPqFS01+QnBkIunnIPW8FxASypDSQetsGQo6aAVlgwlHbTCkqGkg1ZYMpR00EKoWaCFlARaSEmghZQEWkhJoIWUBFpISaCFlARaSEmghZQUO1qLcZLcq7vMk+TZo7pLmq4e1GOZJYmfWGJHa/lqki4+nii7LF48prNrZROnmf7bZKr/RiwUOVpzl3Avr5bDS93jsy+1Q1m90X4fbhQ5Wk6u59KXh15r9eYf6gPi8jbxUUE4xY/W6uFG32QxHunzO7vRr7Vc9eCp54oereWtB7JSH33j4uWThzLeyU+9FTtai7GvslQ9H7P8gj4fbxTQEsgPWfOrJz8VnX6v5UJZfcviQ7PW73Qfi0Eeai1f61peQokeLRSuQAspCbSQkkALKQm0kJJACykJtJCSQAspCbSQkkALKQm0kJJACykJtJCSQAspCbSQkkALKQm0kJJACykJtJCSQAspCbRUtL2Mv3jk47r+wARaygItdIncRV7ukvf51dPy1t1jyJGUPXr+1WTx4q9Jcr/+7bAEWp1odpPfwCj7Nr1xdx5xaGWP5qPJYnzjiKPXQu20ePn0/rvr1ZuJu8h6efeYkZR9dTfucExl/4EWaqfl3c93/3rx891jfpOhkQMqow200OWa/u2L1Zvvrl2P5X6k1wKtrjRP1tVWXmGtS6ui1gItdJHy+aGbBGYj4mhSzhD/tOm1Vg/MEFGHGmBftRVoaWn14O12Q2Hq/0XPg79Sp5ReAAAAAElFTkSuQmCC" width="70%" style="display: block; margin: auto;" /></p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
