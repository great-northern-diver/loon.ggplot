<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Grammar of Interactive Graphics • loon.ggplot</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="A Grammar of Interactive Graphics">
<meta property="og:description" content="Provides a bridge between the loon and  ggplot2 packages.  Extends the grammar of ggplot to add clauses to create interactive loon plots. Existing ggplot(s) can be turned into interactive loon plots and loon plots into static ggplot(s); the function loon.ggplot() is the bridge from one plot structure to the other.">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">loon.ggplot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/grammarOfInteractiveGraphics.html">A Grammar of Interactive Graphics</a>
    </li>
    <li>
      <a href="articles/linking.html">Linking</a>
    </li>
    <li>
      <a href="articles/pipes.html">Pipes</a>
    </li>
    <li>
      <a href="articles/ggplot2loon.html">ggplots to loon plots</a>
    </li>
    <li>
      <a href="articles/loon2ggplot.html">loon plots to ggplots</a>
    </li>
    <li>
      <a href="articles/thereAndBackAgain.html">There and back again</a>
    </li>
  </ul>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/great-northern-diver/loon,ggplot" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">


<p><img src="reference/figures/logo.png" align="right" width="120"></p>
<p>An R package to turn ggplot graphic data structures into interactive loon plots. Extends the grammar to add interactivity.</p>
<p>Documentation: <a href="https://great-northern-diver.github.io/loon.ggplot/" class="external-link">https://great-northern-diver.github.io/loon.ggplot/</a></p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <code>ggplot2</code> graphics package (part of the <code>tidyverse</code> package collection) uses the base <code>grid</code> graphics package to produce publication quality graphics for data analysis. Based on a grammar for graphics, <code>ggplot2</code> also provides a lot of functionality (e.g. <code>facet</code>s) that can be extremely useful in data analysis.</p>
<p>The <code>loon</code> graphics package provides <strong>interactive</strong> graphics especially valuable in any <strong>exploratory data analysis</strong>. This includes programmatic and direct manipulation of the visualizations to effect interactive identification, zooming, panning, and linking between any number of displays. Of course, <code>loon</code> also provides publication quality static graphics in <code>grid</code> via loon’s functions <code>grid.loon()</code> and <code>loonGrob()</code>.</p>
<p>The loon.ggplot package brings <strong>both these packages together</strong>. Data analysts who value the ease with which <code>ggplot2</code> can create meaningful graphics can now turn these <code>ggplot</code>s into interactive <code>loon</code> plots for more dynamic interaction with their data. Conversely, data analysts who explore data interactively can at any time turn a snapshot of their interactive <code>loon</code> plots into <code>ggplot</code>s. The former is accomplished by the simple translation function <strong><code><a href="reference/ggplot2loon.html">ggplot2loon()</a></code></strong> and the latter by the simple translation function <strong><code><a href="reference/loon2ggplot.html">loon2ggplot()</a></code></strong>.</p>
</div>
<div class="section level2">
<h2 id="an-interactive-grammar">An interactive grammar<a class="anchor" aria-label="anchor" href="#an-interactive-grammar"></a>
</h2>
<p><code>loon.ggplot</code> extends the grammar of graphic to include interactive clauses:</p>
<ul>
<li><code>+ linking()</code></li>
<li><code>+ hover()</code></li>
<li><code>+ selection()</code></li>
<li><code>+ active()</code></li>
<li><code>+ zoom()</code></li>
<li><code>+ interactivity()</code></li>
</ul>
<p>A <code>ggplot()</code> created with any of these clauses (in addition to the usual grammar) will <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> as an interactive <code>loon</code> plot and <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> as a static ggplot.</p>
</div>
<div class="section level2">
<h2 id="install-from-r">Install from <code>R</code>
<a class="anchor" aria-label="anchor" href="#install-from-r"></a>
</h2>
<p>Just as the <code>tidyverse</code> includes <code>ggplot2</code>, the package suite called <code>diveR</code> includes <code>loon.ggplot</code> and many more interactive visualization packages.</p>
<p>Installing <code>diveR</code> from CRAN will include installing <code>loon.ggplot</code>:</p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"diveR"</span><span class="op">)</span></span></code></pre>
<p>Alternatively, <code>loon.ggplot</code> (and its dependencies) may be installed directly</p>
<ul>
<li>
<p>from <code>CRAN</code></p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"loon.ggplot"</span><span class="op">)</span></span></code></pre>
<p>or</p>
</li>
<li>
<p>from <code>github</code></p>
<pre><code><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"https://github.com/great-northern-diver/loon.ggplot"</span><span class="op">)</span></span></code></pre>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<p>More detail is given in the vignettes, especially <code>"A Grammar Of Interactive Graphics"</code> and <code>"There And Back Again"</code>.</p>
<p>Below functions transforming from a ggplot to a loon plot, and from a loon plot to a ggplot, are demonstrated.</p>
<div class="section level3">
<h3 id="ggplot2loon-ggplot--loon">
<code>ggplot2loon()</code>: ggplot –&gt; loon<a class="anchor" aria-label="anchor" href="#ggplot2loon-ggplot--loon"></a>
</h3>
<ul>
<li>Construct <code>ggplot</code>
</li>
</ul>
<p>Consider the <code>mtcars</code> data set. Suppose we draw a scatterplot of the mileage <code>mpg</code> (miles per US gallon) versus the weight of the car <code>wt</code> in thousands of pounds and colour represents different cylinder numbers. In <code>ggplot2</code> this would be constructed as</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">wt</span>, <span class="va">mpg</span>, colour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">p</span></span></code></pre>
<p><img src="reference/figures/mtcarsScatterPlot.png"></p>
<p>We might also display a histogram of some other variate, say the engine’s horsepower <code>hp</code>. In <code>ggplot2</code> this would be constructed as</p>
<pre><code><span><span class="va">h</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">hp</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">h</span></span></code></pre>
<p><img src="reference/figures/hpHistogram.png"></p>
<ul>
<li>To <code>loon</code>
</li>
</ul>
<p>the <code>"ggplot"</code> data structures <code>p</code> and <code>h</code> can be <strong>turned into interactive loon plot</strong>s using the <code><a href="reference/ggplot2loon.html">ggplot2loon()</a></code> function:</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">loon.ggplot</span><span class="op">)</span></span>
<span><span class="va">pl</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ggplot2loon.html">ggplot2loon</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span>
<span><span class="va">hl</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ggplot2loon.html">ggplot2loon</a></span><span class="op">(</span><span class="va">h</span><span class="op">)</span></span></code></pre>
<p><img src="reference/figures/scatterAndHist.gif"></p>
<p>An alternative way of doing so is to replace <code>ggplot()</code> function to <code><a href="reference/l_ggplot.html">l_ggplot()</a></code> function. Then, follow the pipe rules of <code>ggplot()</code> but get a <code>loon</code> plot.</p>
<pre class="{r}"><code><span><span class="co"># the scatter plot</span></span>
<span><span class="fu"><a href="reference/l_ggplot.html">l_ggplot</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">wt</span>, </span>
<span>                     <span class="va">mpg</span>, </span>
<span>                     colour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># the histogram</span></span>
<span><span class="fu"><a href="reference/l_ggplot.html">l_ggplot</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">hp</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<p>Note that:</p>
<ul>
<li><p>Loon “Hello World”: Introduction to interactive <code>loon</code> plots can be found via <a href="https://cran.r-project.org/web/packages/loon/vignettes/introduction.html" class="external-link">loon</a>. It shows how to create, manipulate (selection, linking and etc) <code>loon</code> plots</p></li>
<li><p><code>loon.ggplot</code> talk: A talk “Interactive ggplots in R” has been given in <a href="https://ww2.amstat.org/meetings/sdss/2019/onlineprogram/AbstractDetails.cfm?AbstractID=306216" class="external-link">SDSS 2019</a>. Slides can be found in <a href="https://www.math.uwaterloo.ca/~rwoldfor/talks/SDSS2019/loon.ggplot/assets/player/KeynoteDHTMLPlayer.html" class="external-link">SDSS2019/loon.ggplot talk</a> which gives more details.</p></li>
<li><p>A <code>ggmatrix</code> object in package <code>GGally</code> can also be converted to a <code>loon</code> widget. See <code><a href="reference/ggplot2loon.html">help(ggplot2loon)</a></code> for more info.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="loon2ggplot-loon--ggplot">
<code>loon2ggplot()</code>: loon –&gt; ggplot<a class="anchor" aria-label="anchor" href="#loon2ggplot-loon--ggplot"></a>
</h3>
<p>After creating <code>loon</code> plots and adding programmatic and direct manipulation of the visualizations to effect interactive identification, function <code>loon2ggplot</code> can be applied to return a static <code>ggplot</code></p>
<pre><code><span><span class="va">pg</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/loon2ggplot.html">loon2ggplot</a></span><span class="op">(</span><span class="va">pl</span><span class="op">)</span></span>
<span><span class="va">hg</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/loon2ggplot.html">loon2ggplot</a></span><span class="op">(</span><span class="va">hl</span><span class="op">)</span></span></code></pre>
<p>Note that <code>pg</code> and <code>hg</code> are <code>ggplot</code> objects.</p>
<pre><code>class(pg)
[1] "gg"     "ggplot"
class(hg)
[1] "gg"     "ggplot"</code></pre>
<p>Layers, theme adjustment can be piped though like:</p>
<pre><code><span><span class="va">pg</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Mtcars"</span><span class="op">)</span></span></code></pre>
<p><img src="reference/figures/mtcarsAddSmooth.png"></p>
<pre><code><span><span class="va">hg</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html" class="external-link">geom_density</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<p><img src="reference/figures/hpAddDensity.png"></p>
<p>Note that:</p>
<ul>
<li><p>Compound loon widget like <code>l_ts</code> and <code>l_pairs</code> are created by <a href="https://patchwork.data-imaginist.com/index.html" class="external-link"><code>patchwork</code></a>. The <code>ggplot</code> components like <code>theme</code>, <code>labels</code> can be piped through but by the <code>patchwork</code> rule.</p></li>
<li>
<p>Some functionalities are provided</p>
<ul>
<li>Adding glyphs on scatterplot like <code><a href="reference/geom_serialAxesGlyph-deprecated.html">geom_serialAxesGlyph()</a></code>, <code><a href="reference/geom_imageGlyph-deprecated.html">geom_polygonGlyph()</a></code>, <code><a href="reference/geom_imageGlyph-deprecated.html">geom_imageGlyph()</a></code> and etc.</li>
<li>Providing serial axes plots (parallel coordinate and radial coordinate) via <code><a href="reference/ggSerialAxes-deprecated.html">ggSerialAxes()</a></code>
</li>
</ul>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="loonggplot-loon--ggplot">
<code>loon.ggplot()</code>: loon &lt;–&gt; ggplot<a class="anchor" aria-label="anchor" href="#loonggplot-loon--ggplot"></a>
</h3>
<p><code><a href="reference/loon.ggplot.html">loon.ggplot()</a></code> gathers features of both <code><a href="reference/loon2ggplot.html">loon2ggplot()</a></code> and <code><a href="reference/ggplot2loon.html">ggplot2loon()</a></code>. It can take either a <code>loon</code> widget or <code>gg</code> object and transform back and forth.</p>
<pre><code><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://great-northern-diver.github.io/loon/reference/l_plot.html" class="external-link">l_plot</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span>
<span><span class="co"># `loon` to `gg`</span></span>
<span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/loon.ggplot.html">loon.ggplot</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span>
<span><span class="va">g</span> <span class="op">&lt;-</span> <span class="va">g</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> </span>
<span><span class="va">g</span></span>
<span><span class="co"># `gg` to `loon`</span></span>
<span><span class="va">l</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/loon.ggplot.html">loon.ggplot</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="more-than-loon-or-ggplot2">More than <code>loon</code> or <code>ggplot2</code>
<a class="anchor" aria-label="anchor" href="#more-than-loon-or-ggplot2"></a>
</h2>
<p>More than connecting <code>ggplot2</code> and <code>loon</code> these two specific graphical systems, <code>loon.ggplot</code> is able to connect the suite behind them.</p>
<p><img src="reference/figures/loonggplotConnection.PNG"> ### <code>loon</code> –&gt; <code>ggplot2</code> –&gt; <code>gganimate</code></p>
<p>Return an animation from a <code>loon</code> plot</p>
<pre><code><span><span class="co"># a loon plot</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jennybc/gapminder" class="external-link">gapminder</a></span><span class="op">)</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">gapminder</span>, </span>
<span>          <span class="fu"><a href="https://great-northern-diver.github.io/loon/reference/l_plot.html" class="external-link">l_plot</a></span><span class="op">(</span><span class="va">gdpPercap</span>, <span class="va">lifeExp</span>,</span>
<span>                 <span class="co"># scale the size into certain amounts</span></span>
<span>                 size <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/rescale.html" class="external-link">rescale</a></span><span class="op">(</span><span class="va">pop</span>, to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 color <span class="op">=</span> <span class="va">continent</span>,</span>
<span>                 itemLabel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">country</span><span class="op">)</span>,</span>
<span>                 showItemLabels <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>          <span class="op">)</span><span class="op">)</span></span>
<span>          </span>
<span><span class="co"># highlight large population countires     </span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="va">top10in2007</span> <span class="op">&lt;-</span> <span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2007</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/top_n.html" class="external-link">top_n</a></span><span class="op">(</span><span class="fl">10</span>, <span class="va">pop</span><span class="op">)</span></span>
<span><span class="va">p</span><span class="op">[</span><span class="st">'selected'</span><span class="op">]</span><span class="op">[</span><span class="va">gapminder</span><span class="op">$</span><span class="va">country</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">top10in2007</span><span class="op">$</span><span class="va">country</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span></span>
<span><span class="co"># to `ggplot` then to `animation`</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gganimate.com" class="external-link">gganimate</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/loon.ggplot.html">loon.ggplot</a></span><span class="op">(</span><span class="va">p</span>, selectedOnTop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">$</span><span class="va">continent</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">'Year: {frame_time}'</span>, </span>
<span>       x <span class="op">=</span> <span class="st">'GDP per capita'</span>, </span>
<span>       y <span class="op">=</span> <span class="st">'life expectancy'</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://gganimate.com/reference/transition_time.html" class="external-link">transition_time</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">$</span><span class="va">year</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://gganimate.com/reference/ease_aes.html" class="external-link">ease_aes</a></span><span class="op">(</span><span class="st">'linear'</span><span class="op">)</span></span></code></pre>
<p><img src="reference/figures/gdpVersusLife.gif"></p>
<div class="section level3">
<h3 id="ggplot2--loon--shiny">
<code>ggplot2</code> –&gt; <code>loon</code> –&gt; <code>shiny</code>
<a class="anchor" aria-label="anchor" href="#ggplot2--loon--shiny"></a>
</h3>
<p>Return a shiny web app from a <code>ggplot</code> object</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="va">gp</span> <span class="op">&lt;-</span> <span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2007</span>,</span>
<span>         <span class="va">continent</span> <span class="op">!=</span> <span class="st">"Oceania"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">gdpPercap</span>, <span class="va">lifeExp</span>, </span>
<span>                       colour <span class="op">=</span> <span class="va">continent</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>size <span class="op">=</span> <span class="va">pop</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>weight <span class="op">=</span> <span class="va">pop</span><span class="op">)</span>,</span>
<span>              method <span class="op">=</span> <span class="st">"lm"</span>,</span>
<span>              se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">loon.shiny</span><span class="op">)</span></span>
<span><span class="va">gp</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="reference/loon.ggplot.html">loon.ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">loon.shiny</span><span class="op">(</span><span class="op">)</span></span></code></pre>
<p><img src="reference/figures/GDPshiny.gif"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=loon.ggplot" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/great-northern-diver/loon.ggplot/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/great-northern-diver/loon.ggplot/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-2" class="external-link">GPL-2</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing loon.ggplot</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Zehao Xu <br><small class="roles"> Author, maintainer </small>  </li>
<li>R. Wayne Oldford <br><small class="roles"> Author </small>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Zehao Xu, R. Wayne Oldford.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
