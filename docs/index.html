<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Extending ggplot2 to a grammar for interactive graphics with loon • loon.ggplot</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Extending ggplot2 to a grammar for interactive graphics with loon">
<meta name="description" content="Provides a bridge between the 'loon' and  'ggplot2' packages.  Extends the grammar of ggplot to add clauses to create interactive 'loon' plots. Existing ggplot(s) can be turned into interactive 'loon' plots and 'loon' plots into static ggplot(s); the function 'loon.ggplot()' is the bridge from one plot structure to the other.">
<meta property="og:description" content="Provides a bridge between the 'loon' and  'ggplot2' packages.  Extends the grammar of ggplot to add clauses to create interactive 'loon' plots. Existing ggplot(s) can be turned into interactive 'loon' plots and 'loon' plots into static ggplot(s); the function 'loon.ggplot()' is the bridge from one plot structure to the other.">
<meta property="og:image" content="https://great-northern-diver.github.io/loon.ggplot/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">loon.ggplot</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.3.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/grammarOfInteractiveGraphics.html">A Grammar of Interactive Graphics</a></li>
    <li><a class="dropdown-item" href="articles/linking.html">Linking</a></li>
    <li><a class="dropdown-item" href="articles/pipes.html">Pipes</a></li>
    <li><a class="dropdown-item" href="articles/ggplot2loon.html">ggplots to loon plots</a></li>
    <li><a class="dropdown-item" href="articles/loon2ggplot.html">loon plots to ggplots</a></li>
    <li><a class="dropdown-item" href="articles/thereAndBackAgain.html">There and back again</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/great-northern-diver/loon.ggplot" aria-label="GitHub repository for loon.ggplot"><span class="fa fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">

<p><a href="https://travis-ci.com/great-northern-diver/loon.ggplot" class="external-link"><img src="https://travis-ci.com/great-northern-diver/loon.ggplot.svg?branch=master" alt="Build Status"></a> <a href="https://codecov.io/gh/great-northern-diver/loon.ggplot?branch=master" class="external-link"><img src="https://codecov.io/gh/great-northern-diver/loon.ggplot/branch/master/graph/badge.svg" alt="Codecov test coverage"></a> <a href="https://cran.r-project.org/web/packages/loon.ggplot/index.html" class="external-link"><img src="https://www.r-pkg.org/badges/version/loon.ggplot" alt="CRAN status"></a> <a href="https://cran.r-project.org/package=loon.ggplot" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/loon.ggplot"></a></p>
<p><img src="reference/figures/logo.png" align="right" width="120"> An R package to turn ggplot graphic data structures into interactive loon plots. Extends the grammar to add interactivity.</p>
<p>Documentation: <a href="https://great-northern-diver.github.io/loon.ggplot/">https://great-northern-diver.github.io/loon.ggplot/</a></p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <code>ggplot2</code> graphics package (part of the <code>tidyverse</code> package collection) uses the base <code>grid</code> graphics package to produce publication quality graphics for data analysis. Based on a grammar for graphics, <code>ggplot2</code> also provides a lot of functionality (e.g. <code>facet</code>s) that can be extremely useful in data analysis.</p>
<p>The <code>loon</code> graphics package provides <strong>interactive</strong> graphics especially valuable in any <strong>exploratory data analysis</strong>. This includes programmatic and direct manipulation of the visualizations to effect interactive identification, zooming, panning, and linking between any number of displays. Of course, <code>loon</code> also provides publication quality static graphics in <code>grid</code> via loon’s functions <code>grid.loon()</code> and <code>loonGrob()</code>.</p>
<p>The loon.ggplot package brings <strong>both these packages together</strong>. Data analysts who value the ease with which <code>ggplot2</code> can create meaningful graphics can now turn these <code>ggplot</code>s into interactive <code>loon</code> plots for more dynamic interaction with their data. Conversely, data analysts who explore data interactively can at any time turn a snapshot of their interactive <code>loon</code> plots into <code>ggplot</code>s. The former is accomplished by the simple translation function <strong><code><a href="reference/ggplot2loon.html">ggplot2loon()</a></code></strong> and the latter by the simple translation function <strong><code><a href="reference/loon2ggplot.html">loon2ggplot()</a></code></strong>.</p>
</div>
<div class="section level2">
<h2 id="an-interactive-grammar">An interactive grammar<a class="anchor" aria-label="anchor" href="#an-interactive-grammar"></a>
</h2>
<p><code>loon.ggplot</code> extends the grammar of graphic to include interactive clauses:</p>
<ul>
<li><code>+ linking()</code></li>
<li><code>+ hover()</code></li>
<li><code>+ selection()</code></li>
<li><code>+ active()</code></li>
<li><code>+ zoom()</code></li>
<li><code>+ interactivity()</code></li>
</ul>
<p>A <code>ggplot()</code> created with any of these clauses (in addition to the usual grammar) will <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> as an interactive <code>loon</code> plot and <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> as a static ggplot.</p>
</div>
<div class="section level2">
<h2 id="install-from-r">Install from <code>R</code>
<a class="anchor" aria-label="anchor" href="#install-from-r"></a>
</h2>
<p>Just as the <code>tidyverse</code> includes <code>ggplot2</code>, the package suite called <code>diveR</code> includes <code>loon.ggplot</code> and many more interactive visualization packages.</p>
<p>Installing <code>diveR</code> from CRAN will include installing <code>loon.ggplot</code>:</p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"diveR"</span><span class="op">)</span></span></code></pre>
<p>Alternatively, <code>loon.ggplot</code> (and its dependencies) may be installed directly</p>
<ul>
<li>
<p>from <code>CRAN</code></p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"loon.ggplot"</span><span class="op">)</span></span></code></pre>
<p>or</p>
</li>
<li>
<p>from <code>github</code></p>
<pre><code><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"https://github.com/great-northern-diver/loon.ggplot"</span><span class="op">)</span></span></code></pre>
</li>
</ul>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<p>More detail is given in the vignettes, especially <code>"A Grammar Of Interactive Graphics"</code> and <code>"There And Back Again"</code>.</p>
<p>Below functions transforming from a ggplot to a loon plot, and from a loon plot to a ggplot, are demonstrated.</p>
<div class="section level3">
<h3 id="ggplot2loon-ggplot--loon">
<code>ggplot2loon()</code>: ggplot –&gt; loon<a class="anchor" aria-label="anchor" href="#ggplot2loon-ggplot--loon"></a>
</h3>
<ul>
<li>Construct <code>ggplot</code>
</li>
</ul>
<p>Consider the <code>mtcars</code> data set. Suppose we draw a scatterplot of the mileage <code>mpg</code> (miles per US gallon) versus the weight of the car <code>wt</code> in thousands of pounds and colour represents different cylinder numbers. In <code>ggplot2</code> this would be constructed as</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">wt</span>, <span class="va">mpg</span>, colour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">p</span></span></code></pre>
<p><img src="reference/figures/mtcarsScatterPlot.png"></p>
<p>We might also display a histogram of some other variate, say the engine’s horsepower <code>hp</code>. In <code>ggplot2</code> this would be constructed as</p>
<pre><code><span><span class="va">h</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">mtcars</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">hp</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">h</span></span></code></pre>
<p><img src="reference/figures/hpHistogram.png"></p>
<ul>
<li>To <code>loon</code>
</li>
</ul>
<p>the <code>"ggplot"</code> data structures <code>p</code> and <code>h</code> can be <strong>turned into interactive loon plot</strong>s using the <code><a href="reference/ggplot2loon.html">ggplot2loon()</a></code> function:</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://great-northern-diver.github.io/loon.ggplot/">loon.ggplot</a></span><span class="op">)</span></span>
<span><span class="va">pl</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ggplot2loon.html">ggplot2loon</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span>
<span><span class="va">hl</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/ggplot2loon.html">ggplot2loon</a></span><span class="op">(</span><span class="va">h</span><span class="op">)</span></span></code></pre>
<p><img src="reference/figures/scatterAndHist.gif"></p>
<p>An alternative way of doing so is to replace <code>ggplot()</code> function to <code><a href="reference/l_ggplot.html">l_ggplot()</a></code> function. Then, follow the pipe rules of <code>ggplot()</code> but get a <code>loon</code> plot.</p>
<p><code>{r} # the scatter plot l_ggplot(mtcars, aes(wt,                       mpg,                       colour = as.factor(cyl))) +    geom_point() # the histogram l_ggplot(mtcars, aes(x = hp, fill = as.factor(cyl))) +    geom_histogram()</code></p>
<p>Note that:</p>
<ul>
<li><p>Loon “Hello World”: Introduction to interactive <code>loon</code> plots can be found via <a href="https://cran.r-project.org/web/packages/loon/vignettes/introduction.html" class="external-link">loon</a>. It shows how to create, manipulate (selection, linking and etc) <code>loon</code> plots</p></li>
<li><p><code>loon.ggplot</code> talk: A talk “Interactive ggplots in R” has been given in <a href="https://ww2.amstat.org/meetings/sdss/2019/onlineprogram/AbstractDetails.cfm?AbstractID=306216" class="external-link">SDSS 2019</a>. Slides can be found in <a href="https://www.math.uwaterloo.ca/~rwoldfor/talks/SDSS2019/loon.ggplot/assets/player/KeynoteDHTMLPlayer.html" class="external-link">SDSS2019/loon.ggplot talk</a> which gives more details.</p></li>
<li><p>A <code>ggmatrix</code> object in package <code>GGally</code> can also be converted to a <code>loon</code> widget. See <code><a href="reference/ggplot2loon.html">help(ggplot2loon)</a></code> for more info.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="loon2ggplot-loon--ggplot">
<code>loon2ggplot()</code>: loon –&gt; ggplot<a class="anchor" aria-label="anchor" href="#loon2ggplot-loon--ggplot"></a>
</h3>
<p>After creating <code>loon</code> plots and adding programmatic and direct manipulation of the visualizations to effect interactive identification, function <code>loon2ggplot</code> can be applied to return a static <code>ggplot</code></p>
<pre><code><span><span class="va">pg</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/loon2ggplot.html">loon2ggplot</a></span><span class="op">(</span><span class="va">pl</span><span class="op">)</span></span>
<span><span class="va">hg</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/loon2ggplot.html">loon2ggplot</a></span><span class="op">(</span><span class="va">hl</span><span class="op">)</span></span></code></pre>
<p>Note that <code>pg</code> and <code>hg</code> are <code>ggplot</code> objects.</p>
<pre><code>class(pg)
[1] "gg"     "ggplot"
class(hg)
[1] "gg"     "ggplot"</code></pre>
<p>Layers, theme adjustment can be piped though like:</p>
<pre><code><span><span class="va">pg</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Mtcars"</span><span class="op">)</span></span></code></pre>
<p><img src="reference/figures/mtcarsAddSmooth.png"></p>
<pre><code><span><span class="va">hg</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html" class="external-link">geom_density</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html" class="external-link">coord_flip</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<p><img src="reference/figures/hpAddDensity.png"></p>
<p>Note that:</p>
<ul>
<li><p>Compound loon widget like <code>l_ts</code> and <code>l_pairs</code> are created by <a href="https://patchwork.data-imaginist.com/index.html" class="external-link"><code>patchwork</code></a>. The <code>ggplot</code> components like <code>theme</code>, <code>labels</code> can be piped through but by the <code>patchwork</code> rule.</p></li>
<li>
<p>Some functionalities are provided</p>
<ul>
<li>Adding glyphs on scatterplot like <code><a href="reference/geom_serialAxesGlyph-deprecated.html">geom_serialAxesGlyph()</a></code>, <code><a href="reference/geom_imageGlyph-deprecated.html">geom_polygonGlyph()</a></code>, <code><a href="reference/geom_imageGlyph-deprecated.html">geom_imageGlyph()</a></code> and etc.</li>
<li>Providing serial axes plots (parallel coordinate and radial coordinate) via <code><a href="reference/ggSerialAxes-deprecated.html">ggSerialAxes()</a></code>
</li>
</ul>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="loonggplot-loon--ggplot">
<code>loon.ggplot()</code>: loon &lt;–&gt; ggplot<a class="anchor" aria-label="anchor" href="#loonggplot-loon--ggplot"></a>
</h3>
<p><code><a href="reference/loon.ggplot.html">loon.ggplot()</a></code> gathers features of both <code><a href="reference/loon2ggplot.html">loon2ggplot()</a></code> and <code><a href="reference/ggplot2loon.html">ggplot2loon()</a></code>. It can take either a <code>loon</code> widget or <code>gg</code> object and transform back and forth.</p>
<pre><code><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://great-northern-diver.github.io/loon/reference/l_plot.html" class="external-link">l_plot</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span></span>
<span><span class="co"># `loon` to `gg`</span></span>
<span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/loon.ggplot.html">loon.ggplot</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span>
<span><span class="va">g</span> <span class="op">&lt;-</span> <span class="va">g</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">g</span></span>
<span><span class="co"># `gg` to `loon`</span></span>
<span><span class="va">l</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/loon.ggplot.html">loon.ggplot</a></span><span class="op">(</span><span class="va">g</span><span class="op">)</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="more-than-loon-or-ggplot2">More than <code>loon</code> or <code>ggplot2</code>
<a class="anchor" aria-label="anchor" href="#more-than-loon-or-ggplot2"></a>
</h2>
<p>More than connecting <code>ggplot2</code> and <code>loon</code> these two specific graphical systems, <code>loon.ggplot</code> is able to connect the suite behind them.</p>
<p><img src="reference/figures/loonggplotConnection.PNG"> ### <code>loon</code> –&gt; <code>ggplot2</code> –&gt; <code>gganimate</code></p>
<p>Return an animation from a <code>loon</code> plot</p>
<pre><code><span><span class="co"># a loon plot</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jennybc/gapminder" class="external-link">gapminder</a></span><span class="op">)</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">gapminder</span>,</span>
<span>          <span class="fu"><a href="https://great-northern-diver.github.io/loon/reference/l_plot.html" class="external-link">l_plot</a></span><span class="op">(</span><span class="va">gdpPercap</span>, <span class="va">lifeExp</span>,</span>
<span>                 <span class="co"># scale the size into certain amounts</span></span>
<span>                 size <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/rescale.html" class="external-link">rescale</a></span><span class="op">(</span><span class="va">pop</span>, to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                 color <span class="op">=</span> <span class="va">continent</span>,</span>
<span>                 itemLabel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">country</span><span class="op">)</span>,</span>
<span>                 showItemLabels <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>          <span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># highlight large population countires</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="va">top10in2007</span> <span class="op">&lt;-</span> <span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2007</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/top_n.html" class="external-link">top_n</a></span><span class="op">(</span><span class="fl">10</span>, <span class="va">pop</span><span class="op">)</span></span>
<span><span class="va">p</span><span class="op">[</span><span class="st">'selected'</span><span class="op">]</span><span class="op">[</span><span class="va">gapminder</span><span class="op">$</span><span class="va">country</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">top10in2007</span><span class="op">$</span><span class="va">country</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span></span>
<span><span class="co"># to `ggplot` then to `animation`</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gganimate.com" class="external-link">gganimate</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/loon.ggplot.html">loon.ggplot</a></span><span class="op">(</span><span class="va">p</span>, selectedOnTop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="va">gapminder</span><span class="op">$</span><span class="va">continent</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">'Year: {frame_time}'</span>,</span>
<span>       x <span class="op">=</span> <span class="st">'GDP per capita'</span>,</span>
<span>       y <span class="op">=</span> <span class="st">'life expectancy'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">transition_time</span><span class="op">(</span><span class="va">gapminder</span><span class="op">$</span><span class="va">year</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ease_aes</span><span class="op">(</span><span class="st">'linear'</span><span class="op">)</span></span></code></pre>
<p><img src="reference/figures/gdpVersusLife.gif"></p>
<div class="section level3">
<h3 id="ggplot2--loon--shiny">
<code>ggplot2</code> –&gt; <code>loon</code> –&gt; <code>shiny</code>
<a class="anchor" aria-label="anchor" href="#ggplot2--loon--shiny"></a>
</h3>
<p>Return a shiny web app from a <code>ggplot</code> object</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="va">gp</span> <span class="op">&lt;-</span> <span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2007</span>,</span>
<span>         <span class="va">continent</span> <span class="op">!=</span> <span class="st">"Oceania"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">gdpPercap</span>, <span class="va">lifeExp</span>,</span>
<span>                       colour <span class="op">=</span> <span class="va">continent</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>size <span class="op">=</span> <span class="va">pop</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>weight <span class="op">=</span> <span class="va">pop</span><span class="op">)</span>,</span>
<span>              method <span class="op">=</span> <span class="st">"lm"</span>,</span>
<span>              se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">loon.shiny</span><span class="op">)</span></span>
<span><span class="va">gp</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/loon.ggplot.html">loon.ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/loon.shiny/man/loon.shiny.html" class="external-link">loon.shiny</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<p><img src="reference/figures/GDPshiny.gif"></p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=loon.ggplot" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/great-northern-diver/loon.ggplot/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/great-northern-diver/loon.ggplot/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-2" class="external-link">GPL-2</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing loon.ggplot</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Zehao Xu <br><small class="roles"> Author, maintainer </small>   </li>
<li>R. Wayne Oldford <br><small class="roles"> Author </small>   </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zehao Xu, R. Wayne Oldford.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
